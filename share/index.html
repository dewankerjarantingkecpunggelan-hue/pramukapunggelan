<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">

<script>
const params = new URLSearchParams(location.search);
const id = params.get("id");

fetch("https://script.google.com/macros/s/AKfycbx-e8JzVEnob7b7QXvoOWnuo5oXi2s4m-Qk5xZQQp0OidxFkCbuRXCjDAWHdNom5LhD/exec?action=detail&id="+id)
.then(r=>r.json())
.then(data=>{

  const title = data.judul;
  const desc = data.isi.replace(/<[^>]*>/g,'').substring(0,150);
  const image = data.thumbnail.split("?")[0];
  const url = "https://pramukapunggelan.vercel.app/artikel.html?id="+id;

  document.head.innerHTML += `
<meta property="og:title" content="${title}">
<meta property="og:description" content="${desc}">
<meta property="og:image" content="${image}">
<meta property="og:url" content="${url}">
<meta property="og:type" content="article">
<meta name="twitter:card" content="summary_large_image">
<title>${title}</title>
`;

  location.href = url;

});
</script>
</head>
<body></body>
</html>
