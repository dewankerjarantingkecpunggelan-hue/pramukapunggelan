<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Artikel Penulis â€¢ Pramuka Punggelan</title>
<link rel="icon" href="assets/images/logologo.png" type="image/png">
<link href="https://fonts.googleapis.com/css2?family=K2D:wght@400;500;600;700&display=swap" rel="stylesheet">
<link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">

<style>
:root{
  --primary:#5b2c83;
  --primary-light:#6f3aa6;
  --wosm-purple: #5b2c83;
  --wosm-purple-light: #6f3aa6;
  --secondary:#f4f6f8;
  --dark:#1f2937;
  --muted:#6b7280;
  --card:#ffffff;
  --border:#e5e7eb;
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family:'K2D',sans-serif;
  background:var(--secondary);
  color:var(--dark);
}
.container{
  max-width:1200px;
  margin:28px auto;
  padding:0 20px;
}

    /* Header */
    header{position:sticky;top:0;z-index:1000;background:#fff;box-shadow:0 2px 8px rgba(0,0,0,.06)}
    .nav-container{max-width:var(--max-w);margin:auto;display:flex;align-items:center;justify-content:space-between;padding:12px 20px}
    .brand{display:flex;align-items:center;gap:10px}
    .brand img{height:50px;width:50px;object-fit:contain}
    .brand h1{margin:0;font-size:clamp(18px,2.5vw,22px);color:var(--wosm-purple)}

    nav{display:flex;align-items:center;gap:20px}
    nav a{color:#333;text-decoration:none;padding:8px 0;font-weight:600;position:relative}
    nav a::after{content:"";position:absolute;left:0;bottom:0;width:0;height:2px;background:var(--wosm-purple);transition:.3s}
    nav a:hover::after{width:100%}
    nav a:hover{color:var(--wosm-purple)}

    .dropdown{position:relative}
    .dropdown-menu{display:none;position:absolute;top:100%;left:0;background:#fff;box-shadow:0 4px 20px rgba(0,0,0,.08);border-radius:8px;min-width:220px;padding:10px}
    .dropdown-menu a{display:block;padding:8px;border-radius:6px;color:#333}
    .dropdown:hover .dropdown-menu{display:block}

    /* Hamburger menu */
    .menu-toggle{display:none;font-size:28px;cursor:pointer;color:var(--wosm-purple)}
    @media (max-width: 768px) {

  nav {
    display: flex; /* JANGAN none */
    flex-direction: column;
    align-items: flex-start;
    text-align: left;

    position: absolute;
    top: 70px;
    left: 12px;
    right: 12px;

    background: #fff;
    padding: 14px;
    border-radius: 12px;
    box-shadow: 0 8px 20px rgba(0,0,0,.15);
    z-index: 2000;

    /* ðŸ”´ AWAL TERSEMBUNYI */
    opacity: 0;
    transform: translateY(-12px);
    pointer-events: none;

    transition:
      opacity 0.25s ease,
      transform 0.25s ease;
  }

  nav.show {
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
  }

  nav > a,
  nav .dropdown > a {
    width: 100%;
    padding: 10px 8px;
    text-align: left;
    justify-content: space-between;
  }

  .menu-toggle {
    display: block;
  }

  .dropdown {
    width: 100%;
  }

  .dropdown-menu {
    position: static;
    display: none;
    width: 100%;
    margin-top: 6px;
    padding-left: 12px;
    background: transparent;
    box-shadow: none;
  }

  .dropdown.open .dropdown-menu {
    display: block;
  }
}

    main{max-width:var(--max-w);margin:auto;padding:30px 20px}
    h2,h3{color:var(--wosm-purple);margin-top:0;font-size:clamp(18px,2vw,22px)}

    .section{background:#fff;padding:20px;border-radius:var(--radius);box-shadow:0 2px 12px rgba(0,0,0,.05);margin-bottom:30px}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:20px}
    .card{background:#fafafa;padding:16px;border-radius:var(--radius);text-align:center;box-shadow:0 2px 10px rgba(0,0,0,.04)}
    .card img{height:70px;width:70px;object-fit:contain;margin-bottom:10px;max-width:100%}
    .card h4{margin:6px 0;color:var(--wosm-purple)}

    .logo-box{text-align:center;margin-bottom:20px}
    .logo-box img{height:140px;width:auto;object-fit:contain;margin-bottom:12px;max-width:100%}

    footer{background:var(--wosm-purple);color:#fff;margin-top:40px;padding:40px 20px 20px;font-size:14px}
    footer h4{margin:0 0 10px;font-size:14px;font-weight:700;text-transform:uppercase}
    footer p{margin:0 0 10px;line-height:1.6}
    footer a{color:#fff;text-decoration:none}
    footer a:hover{text-decoration:underline}
    .footer-grid{max-width:1200px;margin:auto;display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:30px}
    .socials{display:flex;gap:10px;margin-top:10px}
    .socials a{display:flex;align-items:center;justify-content:center;width:34px;height:34px;border-radius:4px;background:rgba(255,255,255,.15);font-size:18px;transition:.3s}
    .socials a:hover{background:#fff;color:var(--wosm-purple)}
    footer hr{border:none;border-top:1px solid rgba(255,255,255,.2);margin:20px 0}
    .credits{text-align:center;font-size:13px;color:rgba(255,255,255,.8)}
    .credits-bar {
  max-width: 1200px;
  margin: auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 13px;
  color: rgba(255,255,255,.85);
  gap: 10px;
  flex-wrap: wrap;
}

.credits-bar a {
  color: #fff;
  font-weight: 600;
  text-decoration: none;
}

.credits-bar a:hover {
  text-decoration: underline;
}

.credits-right span {
  margin: 0 6px;
  opacity: .6;
}

/* Responsif HP */
@media (max-width: 600px) {
  .credits-bar {
    flex-direction: column;
    text-align: center;
    gap: 6px;
  }
}

    .btn-purple {
  background: var(--wosm-purple);
  color: #fff !important;
  padding: 8px 14px;
  border-radius: 8px;
  font-weight: 600;
  text-decoration: none;
  transition: 0.3s;
}
.btn-purple:hover {
  background: var(--wosm-purple-light);
}

/* HEADER */
.author-box{
  background:var(--card);
  border:1px solid var(--border);
  padding:22px 24px;
  margin-bottom:20px;
}
.author-box h1{
  margin:0;
  font-size:24px;
  font-weight:700;
  color:var(--primary);
}
.author-box p{
  margin-top:6px;
  font-size:14px;
  color:var(--muted);
}

/* FILTER */
.filter-bar{
  display:flex;
  gap:10px;
  margin-bottom:18px;
}
.filter-bar select{
  padding:8px 10px;
  font-family:'K2D';
  border:1px solid var(--border);
}

/* GRID */
.content-grid{
  display:grid;
  grid-template-columns:1fr 320px;
  gap:20px;
}
@media(max-width:900px){
  .content-grid{grid-template-columns:1fr;}
}

/* ARTICLE */
.article-list{display:grid;gap:14px}
.article-card{
  background:var(--card);
  border:1px solid var(--border);
  padding:14px;
  display:flex;
  gap:16px;
  text-decoration:none;
  color:inherit;
  position:relative;
}
.article-card:hover{border-color:var(--primary)}
.article-card img{
  width:140px;height:90px;
  object-fit:cover;border-radius:8px;
}
.article-card h3{
  margin:0 0 6px;
  font-size:16px;
  font-weight:600;
}
.article-card small{
  font-size:13px;
  color:var(--muted);
}

/* BADGE */
.badge{
  position:absolute;
  top:8px;
  right:8px;
  background:var(--primary-light);
  color:#fff;
  font-size:11px;
  padding:4px 8px;
  border-radius:6px;
}

/* SIDEBAR */
.sidebar{
  background:var(--card);
  border:1px solid var(--border);
  padding:18px;
}
.sidebar h4{
  margin:0 0 12px;
  color:var(--primary);
}
.stat{display:flex;justify-content:space-between;margin-bottom:8px}

/* MINI GRAPH */
.graph{
  display:flex;
  align-items:flex-end;
  gap:4px;
  height:90px;
  margin-top:10px;
}
.bar{
  flex:1;
  background:var(--primary-light);
  border-radius:4px 4px 0 0;
}
.bar span{
  display:block;
  font-size:10px;
  text-align:center;
  margin-top:4px;
}

/* PAGINATION */
.pagination{
  display:flex;
  gap:6px;
  margin-top:18px;
}
.pagination button{
  border:1px solid var(--border);
  background:#fff;
  padding:6px 12px;
  cursor:pointer;
}
.pagination .active{
  background:var(--primary);
  color:#fff;
  border-color:var(--primary);
}

.article-card{
  background:var(--card);
  border:1px solid var(--border);
  padding:14px;
  display:flex;
  gap:16px;
  text-decoration:none;
  color:inherit;
}

.thumb-wrap{
  position:relative;
  flex-shrink:0;
}

.thumb-wrap img{
  width:140px;
  height:90px;
  object-fit:cover;
  border-radius:8px;
}

/* BADGE DI THUMBNAIL */
.badge{
  position:absolute;
  top:6px;
  left:6px;
  background:var(--primary-light);
  color:#fff;
  font-size:11px;
  padding:4px 8px;
  border-radius:6px;
  font-weight:600;
}

/* WRAP THUMBNAIL */
.thumb-wrap{
  position:relative;
  flex-shrink:0;
}

/* BADGE UMUM */
.badge{
  position:absolute;
  top:6px;
  padding:4px 8px;
  font-size:11px;
  font-weight:600;
  border-radius:6px;
  color:#fff;
  z-index:2;
}

/* BADGE TERPOPULER (kiri) */
.badge.popular{
  left:6px;
  background:var(--primary-light);
}

/* BADGE TERBARU (kanan) */
.badge.new{
  right:6px;
  background:var(--primary);
}

</style>
</head>

<body>
<header>
    <div class="nav-container">
      <div class="brand">
        <img src="assets/images/logodkr.png" alt="Logo DKR">
        <h1>Pramuka Punggelan</h1>
      </div>
      <div class="menu-toggle" onclick="toggleMenu()"><i class='bx bx-menu'></i></div>
      <nav id="nav">
        <a href="/">Beranda</a>
        <div class="dropdown">
          <a href="javascript:void(0)" onclick="toggleDropdown(this)">Profil <i class='bx bx-chevron-down'></i></a>
          <div class="dropdown-menu">
            <a href="/kwarran">Pengurus Kwarran</a>
            <a href="/dapot">Data Potensi Pramuka Kwarran</a>
            <a href="/dkrpunggelan">Tentang DKR Punggelan</a>
            <a href="/profildkr">Profil Anggota DKR</a>
          </div>
        </div>
        <div class="dropdown">
          <a href="javascript:void(0)" onclick="toggleDropdown(this)">Organisasi <i class='bx bx-chevron-down'></i></a>
          <div class="dropdown-menu">
            <a href="/mediaunduh">Media Unduh</a>
            <a href="/agenda">Agenda Kegiatan</a>
            <a href="/rekrutmendkr">Rekrutmen DKR</a>
          </div>
        </div>
                <div class="dropdown">
          <a href="javascript:void(0)" onclick="toggleDropdown(this)">Tools <i class='bx bx-chevron-down'></i></a>
          <div class="dropdown-menu">
            <a href="/potonglink">Pemangkas URL</a>
          </div>
        </div>
        <a href="/twibbon">Twibbon</a>
        <a href="/warta">Berita</a>
        <a href="/login" class="btn-purple">LOGIN</a>
      </nav>
    </div>
  </header>
<div class="container">

<div class="author-box">
  <h1 id="authorName"></h1>
  <p id="authorInfo"></p>
</div>

<div class="filter-bar">
  <select id="filterYear"></select>
  <select id="filterMonth">
    <option value="">Semua Bulan</option>
    <option value="0">Jan</option><option value="1">Feb</option>
    <option value="2">Mar</option><option value="3">Apr</option>
    <option value="4">Mei</option><option value="5">Jun</option>
    <option value="6">Jul</option><option value="7">Agu</option>
    <option value="8">Sep</option><option value="9">Okt</option>
    <option value="10">Nov</option><option value="11">Des</option>
  </select>
</div>

<div class="content-grid">
  <div>
    <div id="articleList" class="article-list"></div>
    <div id="pagination" class="pagination"></div>
  </div>

  <aside class="sidebar">
    <h4>Statistik Penulis</h4>
    <div class="stat"><span>Total Artikel</span><strong id="totalArtikel">0</strong></div>
    <div class="stat"><span>Total Dibaca</span><strong id="totalViews">0</strong></div>

    <h4 style="margin-top:18px">Grafik Publikasi</h4>
    <div id="graph" class="graph"></div>
  </aside>
</div>

</div>

<footer>
    <div class="footer-grid" style="gap:40px">
      <div>
        <h4>KWARRAN PUNGGELAN</h4>
        <p>Membentuk generasi muda Punggelan yang berkarakter, mandiri, dan berjiwa sosial melalui pendidikan kepanduan yang aktif dan berprestasi.</p>
        <p><em>"Satyaku Kudarmakan, Darmaku Kubaktikan"</em></p>
      </div>
      <div>
        <h4>SEKRETARIAT</h4>
        <p>Dindikpora Kec. Punggelan<br>Jl. Raya Pasar Manis, Banjarnegara, Jateng 53462</p>
        <p><p>Email: 
          <a href="mailto:kwarrankecamatanpunggelan@gmail.com">kwarrankecamatanpunggelan@gmail.com
          <a href="mailto:dewankerjarantingkecpunggelan@gmail.com">dewankerjarantingkecpunggelan@gmail.com</a></p>
      </div>
      <div>
        <h4>ORGANISASI</h4>
        <ul style="list-style:none;padding:0;margin:0;line-height:1.8">
          <li><a href="https://pramukabanjarnegara.or.id" target="_blank">Kwarcab Banjarnegara <i class='bx bx-link-external'></i></a></li>
          <li><a href="https://pramukajateng.or.id" target="_blank">Kwarda Jawa Tengah <i class='bx bx-link-external'></i></a></li>
          <li><a href="https://pramuka.or.id" target="_blank">Kwartir Nasional <i class='bx bx-link-external'></i></a></li>
        </ul>
      </div>
      <div>
        <h4>MEDIA SOSIAL</h4>
        <div class="socials">
          <a href="https://facebook.com/DkrPunggelan" target="_blank"><i class='bx bxl-facebook'></i></a>
          <a href="https://x.com/dkr__punggelan" target="_blank"><i class='bx bxl-twitter'></i></a>
          <a href="https://youtube.com" target="_blank"><i class='bx bxl-youtube'></i></a>
          <a href="https://instagram.com/dkr__punggelan" target="_blank"><i class='bx bxl-instagram'></i></a>
          <a href="https://instagram.com/kwarran.punggelan" target="_blank"><i class='bx bxl-instagram'></i></a>
          <a href="https://instagram.com/jurnalistik.punggelan" target="_blank"><i class='bx bxl-instagram'></i></a>
          <a href="https://instagram.com/kegop.dkr.punggelan" target="_blank"><i class='bx bxl-instagram'></i></a>
        </div>
      </div>
    </div>
    <hr>
    <div class="credits-bar">
      <div class="credits-right">
    <a href="index.html" target="_blank">Kwarran Punggelan</a>
    <span>|</span>
    <a href="news.html">Warta</a>
  </div>
  <div class="credits-left">
    Â© 2026 Pramuka Punggelan. Semua Hak Dilindungi.
  </div>
</div>

  </footer>

<script>
  const menuToggle = document.querySelector('.menu-toggle');
  const nav = document.getElementById('nav');

  // Toggle menu utama
  menuToggle.addEventListener('click', () => {
    nav.classList.toggle('show');
  });

  // Dropdown khusus mobile (klik, bukan hover)
  document.querySelectorAll('.dropdown > a').forEach(link => {
    link.addEventListener('click', function (e) {
      if (window.innerWidth <= 768) {
        e.preventDefault();
        this.parentElement.classList.toggle('open');
      }
    });
  });
</script>

<script>
const API="https://script.google.com/macros/s/AKfycbynokygVu2lbNadbDWYf1SjW3yo9UBZ6F8_njQFiOvCpwOuxyIU6uFDWo9T4GMWrTbJ/exec";
const AUTHOR=new URLSearchParams(location.search).get("name");
const PER_PAGE=5;
let all=[],filtered=[],page=1;

document.getElementById("authorName").textContent=AUTHOR;
document.getElementById("authorInfo").textContent="Publikasi resmi oleh penulis";

const cb="cb"+Date.now();
window[cb]=res=>{
  all=res.data.filter(a=>a.penulis===AUTHOR);
  initFilter();
  applyFilter();
};

function initFilter(){
  const years=[...new Set(all.map(a=>new Date(a.tanggal).getFullYear()))];
  const fy=document.getElementById("filterYear");
  fy.innerHTML=`<option value="">Semua Tahun</option>`+
    years.map(y=>`<option>${y}</option>`).join("");
  fy.onchange=document.getElementById("filterMonth").onchange=applyFilter;
}

function applyFilter(){
  const y=document.getElementById("filterYear").value;
  const m=document.getElementById("filterMonth").value;
  filtered=all.filter(a=>{
    const d=new Date(a.tanggal);
    return (!y||d.getFullYear()==y)&&(!m||d.getMonth()==m);
  });
  page=1;
  render();
}

function render(){
  const list=document.getElementById("articleList");
  const start=(page-1)*PER_PAGE;
  const data=filtered.slice(start,start+PER_PAGE);
  const maxView=Math.max(...filtered.map(a=>a.views||0));
list.innerHTML = data.map(a => {
  const publishDate = new Date(a.tanggal);
  const isNew = (Date.now() - publishDate) <= 7 * 24 * 60 * 60 * 1000;

  return `
  <a class="article-card" href="artikel.html?id=${a.id}">
    <div class="thumb-wrap">
      ${a.views >= maxView * 0.9 ? `<div class="badge popular">Terpopuler</div>` : ``}
      ${isNew ? `<div class="badge new">Terbaru</div>` : ``}
      <img src="${a.thumbnail || 'assets/images/noimage.png'}">
    </div>
    <div>
      <h3>${a.judul}</h3>
      <small>
        ${publishDate.toLocaleDateString("id-ID")}
        â€¢ <i class='bx bx-show'></i> ${a.views || 0}
      </small>
    </div>
  </a>`;
}).join("");
  document.getElementById("totalArtikel").textContent=filtered.length;
  document.getElementById("totalViews").textContent=filtered.reduce((t,a)=>t+(a.views||0),0);
  renderPagination();
  renderGraph();
}

function renderPagination(){
  const p=document.getElementById("pagination");
  const total=Math.ceil(filtered.length/PER_PAGE);
  p.innerHTML="";
  for(let i=1;i<=total;i++){
    const b=document.createElement("button");
    b.textContent=i;
    if(i===page)b.className="active";
    b.onclick=()=>{page=i;render()};
    p.appendChild(b);
  }
}

function renderGraph(){
  const g=document.getElementById("graph");
  const counts=Array(12).fill(0);
  filtered.forEach(a=>counts[new Date(a.tanggal).getMonth()]++);
  const max=Math.max(...counts,1);
  g.innerHTML=counts.map(c=>`
    <div class="bar" style="height:${(c/max)*80}px"></div>
  `).join("");
}

const s=document.createElement("script");
s.src=API+"?action=list&callback="+cb;
document.body.appendChild(s);
</script>
</body>
</html>

